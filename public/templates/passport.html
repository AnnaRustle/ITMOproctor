<div class="passport-view"></div>
<button class="easyui-linkbutton" style="height:24px;width:100px;position:absolute;bottom:20px;right:20px">Редактировать</button>
<script type="text/template" id="passport-tpl">
<div style="padding:10px">
    <% var photo = attach.length > 0 ? '/storage/' + attach[0].fileId : '/images/avatar.png'; %>
    <img src="<%- photo %>" alt="Фотография" style="border:1px solid lightgray;width:240px;height:320px;object-position:center;object-fit:cover;float:left;margin-right:10px;">
    <table cellpadding="5" style="float:clear">
    <tr>
        <td>ФИО:</td>
        <td><%- lastname %> <%- firstname %> <%- middlename %></td>
    </tr>
    <tr>
        <td>Пол:</td>
        <td><%- gender %></td>
    </tr>
    <tr>
        <td>Дата рождения:</td>
        <td><%- birthday %></td>
    </tr>
    <tr>
        <td>Электронный адрес:</td>
        <td style="word-break:break-all;"><%- email %></td>
    </tr>
    <tr>
        <td>Тип документа:</td>
        <td><% if (passport.doctype) { %><%- passport.doctype %><% } else { %> - <% } %></td>
    </tr>
    <tr>
        <td>Номер документа:</td>
        <td><% if (passport.number) { %><%- passport.number %><% } else { %> - <% } %></td>
    </tr>
    <tr>
        <td>Дата выдачи документа:</td>
        <td><% if (passport.issueDate) { %><%- passport.issueDate %><% } else { %> - <% } %></td>
    </tr>
    <tr>
        <td>Дополнительная информация:</td>
        <td><% if (passport.description) { %><%- passport.description %><% } else { %> - <% } %></td>
    </tr>
    <tr>
        <td>Приложенные файлы:</td>
        <td>
            <% if(attach.length > 0) { %>
                <% _.each(attach, function(element, index, list){ %>
                    <i class="fa fa-paperclip"></i>&nbsp;<a href="/storage/<%- element.fileId %>" title="<%- element.description %>"><%- element.filename %></a>
                <% }); %>
            <% } else { %>
                -
            <% } %>
        </td>
    </tr>
    </table>
</div>
</script>